<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Issue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
</head>
<body>
<div class="container" >
    <br>
    <h5><a href="/">Home</a></h5>
    <br>
    <h1>Issue <span th:text="${issue.getId()}"></span></h1><br>
</div>
<div class="container" >
<table class="table table-bordered">
    <tr>
        <td>Title</td>
        <td><span th:text="${issue.getTitle()}"></span></td>
    </tr>
    <tr>
        <td>Status</td>
        <td><span th:text="${issue.getStatus()}"></span></td>
    </tr>
    <tr>
        <td>Date</td>
        <td><span th:text="${issue.getDate()}"></span></td>
    </tr>
    <tr>
        <td>Author</td>
        <td><span th:text="${issue.getUser().getName()}"></span></td>
    </tr>
    <tr>
        <td>Description</td>
        <td>
            <span th:text="${issue.getDescription()}"></span>
        </td>
    </tr>
</table>
</div>
<br>
<th:block th:each="comment : ${commentList}">
    <div class="container">
    <p>
    <table class="table table-bordered">
        <tr>
            <td class="row150">Author</td>
            <td><span th:text="${comment.getUser().getName()}"></span></td>
        </tr>
        <tr>
            <td>Status changed to </td>
            <td><span th:text="${comment.getStatus()}"></span></td>
        </tr>
        <tr>
            <td>Date </td>
            <td><span th:text="${comment.getDate()}"></span></td>
        </tr>
        <tr>
            <td>Text</td>
            <td><span th:text="${comment.getText()}"></span></td>
        </tr>
    </table>
    </p>
    </div>
</th:block>
<br>
<th:block th:if="${user}">
    <div class="container" >
        <form action="" method="post">
            <div class="form-group">
                <select class="form-control form-control-sm" name="status">
                    <th:block th:each="status : ${statusList}">
                        <option th:value="${status}"><span th:text="${status}"></span></option>
                    </th:block>
                </select>
            </div>
            <div class="form-group">
                <textarea class="form-control form-control-lg" rows="5" name="text" placeholder="Text" required></textarea>
            </div>
            <div class="form-group">
                <button class="btn btn-success btn-lg">Comment</button>
            </div>
        </form>
    </div>
</th:block>
</body>
</html>